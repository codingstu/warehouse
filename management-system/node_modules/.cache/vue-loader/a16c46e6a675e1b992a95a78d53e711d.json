{"remainingRequest":"D:\\Study\\vue\\bishe\\warehouse-management-system\\management-system\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\Study\\vue\\bishe\\warehouse-management-system\\management-system\\src\\views\\DataStatistics\\StoreStatistics.vue?vue&type=style&index=0&id=0a6df6dc&lang=less&scoped=true&","dependencies":[{"path":"D:\\Study\\vue\\bishe\\warehouse-management-system\\management-system\\src\\views\\DataStatistics\\StoreStatistics.vue","mtime":1646716328329},{"path":"D:\\Study\\vue\\bishe\\warehouse-management-system\\management-system\\node_modules\\css-loader\\dist\\cjs.js","mtime":1646716386465},{"path":"D:\\Study\\vue\\bishe\\warehouse-management-system\\management-system\\node_modules\\vue-loader\\lib\\loaders\\stylePostLoader.js","mtime":1646716386708},{"path":"D:\\Study\\vue\\bishe\\warehouse-management-system\\management-system\\node_modules\\postcss-loader\\src\\index.js","mtime":1624892018364},{"path":"D:\\Study\\vue\\bishe\\warehouse-management-system\\management-system\\node_modules\\less-loader\\dist\\cjs.js","mtime":1625989675222},{"path":"D:\\Study\\vue\\bishe\\warehouse-management-system\\management-system\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1624891997656},{"path":"D:\\Study\\vue\\bishe\\warehouse-management-system\\management-system\\node_modules\\vue-loader\\lib\\index.js","mtime":1646716386708}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCg0KLmluZGV4IHsNCiAgaGVpZ2h0OiAxMDAlOw0KfQ0K"},{"version":3,"sources":["StoreStatistics.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAqGA;AACA;AACA","file":"StoreStatistics.vue","sourceRoot":"src/views/DataStatistics","sourcesContent":["<template>\r\n  <div class=\"index\">\r\n    <div style=\"height:'80px'\">\r\n      <h1>仓库数据统计</h1>\r\n    </div>\r\n    <div id=\"myChart\" :style=\"{ width: '100%', height: '80%' }\"></div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\n// 引入时间处理模块\r\nimport moment from \"moment\";\r\nimport echarts from \"echarts\";\r\nimport { getArriveStoreInfo, getLeaveStoreInfo } from \"@/api/store\";\r\n\r\nexport default {\r\n  methods: {\r\n    // 画线\r\n    drawLine(date, leaveData, arriveData) {\r\n      // 初始化dom\r\n      var salesCharts = echarts.init(document.getElementById(\"myChart\"));\r\n      // 准备配置\r\n      var option = {\r\n        title: {\r\n          text: \"出入库统计\",\r\n        },\r\n        tooltip: {\r\n          trigger: \"axis\",\r\n        },\r\n        legend: {\r\n          data: [\"出库数\", \"入库数\"],\r\n        },\r\n        grid: {\r\n          left: \"3%\",\r\n          right: \"4%\",\r\n          bottom: \"3%\",\r\n          containLabel: true,\r\n        },\r\n        toolbox: {\r\n          feature: {\r\n            saveAsImage: {},\r\n          },\r\n        },\r\n        xAxis: {\r\n          type: \"category\",\r\n          boundaryGap: false,\r\n          data: date,\r\n        },\r\n        yAxis: {\r\n          type: \"value\",\r\n        },\r\n        series: [\r\n          {\r\n            name: \"入库\",\r\n            type: \"line\",\r\n            data: arriveData,\r\n          },\r\n          {\r\n            name: \"出库\",\r\n            type: \"line\",\r\n            data: leaveData,\r\n          },\r\n        ],\r\n      };\r\n      // 生成报表\r\n      salesCharts.setOption(option);\r\n    },\r\n    // 获取数据画图\r\n    async getData() {\r\n      // 这是后端数据 直\r\n      let { arrivedata } = await getArriveStoreInfo();\r\n      let { leavedata } = await getLeaveStoreInfo();\r\n      // 处理\r\n      // 循环后端返回的数据 对时间形成格式化处理\r\n      arrivedata.forEach(\r\n        (v) => (v.ctime = moment(v.ctime).format(\"YYYY-MM-DD hh:mm:ss\"))\r\n      );\r\n      leavedata.forEach(\r\n        (v) => (v.ctime = moment(v.ctime).format(\"YYYY-MM-DD hh:mm:ss\"))\r\n      );\r\n      let date = [];\r\n      let leaveData = [];\r\n      for (var i of leavedata) {\r\n        date.push(i.ctime);\r\n        leaveData.push(i.leavequantity);\r\n      }\r\n      let arriveData = [];\r\n      for (var i of arrivedata) {\r\n        arriveData.push(i.goodsquantity);\r\n      }\r\n\r\n      this.drawLine(date, leaveData, arriveData);\r\n    },\r\n  },\r\n  mounted() {\r\n    this.getData();\r\n  },\r\n};\r\n</script>\r\n\r\n<style lang=\"less\" scoped>\r\n.index {\r\n  height: 100%;\r\n}\r\n</style>\r\n"]}]}
{"remainingRequest":"D:\\Study\\vue\\bishe\\warehouse-management-system\\management-system\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\Study\\vue\\bishe\\warehouse-management-system\\management-system\\src\\views\\Order\\OrderManage.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\Study\\vue\\bishe\\warehouse-management-system\\management-system\\src\\views\\Order\\OrderManage.vue","mtime":1646716328333},{"path":"D:\\Study\\vue\\bishe\\warehouse-management-system\\management-system\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1624891997656},{"path":"D:\\Study\\vue\\bishe\\warehouse-management-system\\management-system\\node_modules\\babel-loader\\lib\\index.js","mtime":1633574065756},{"path":"D:\\Study\\vue\\bishe\\warehouse-management-system\\management-system\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1624891997656},{"path":"D:\\Study\\vue\\bishe\\warehouse-management-system\\management-system\\node_modules\\vue-loader\\lib\\index.js","mtime":1646716386708}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KDQppbXBvcnQgeyBnZXRPcmRlckxpc3QgfSBmcm9tICJAL2FwaS9vcmRlciI7DQppbXBvcnQgbW9tZW50IGZyb20gIm1vbWVudCI7DQoNCmV4cG9ydCBkZWZhdWx0IHsNCiAgZGF0YSgpIHsNCiAgICByZXR1cm4gew0KICAgICAgLy8g6K6i5Y2V6KGo5qC85pWw5o2uDQogICAgICB0YWJsZURhdGE6IFtdLA0KICAgICAgLy8g5pCc57Si6KGo5Y2V5pWw5o2uDQogICAgICBzZWFyY2hGb3JtOiB7DQogICAgICAgIG9yZGVyTm86ICIiLA0KICAgICAgICBjb25zaWduZWU6ICIiLA0KICAgICAgICBwaG9uZTogIiIsDQogICAgICAgIG9yZGVyU3RhdGU6ICIiLA0KICAgICAgICBkYXRlOiBbXSwNCiAgICAgIH0sDQogICAgICBjdXJyZW50UGFnZTogMSwgLy8g5b2T5YmN6aG1DQogICAgICBwYWdlU2l6ZTogNSwgLy8g5q+P6aG15p2h5pWwDQogICAgICB0b3RhbDogMTIsIC8vIOaAu+adoeaVsA0KICAgIH07DQogIH0sDQogIG1ldGhvZHM6IHsNCiAgICAvLyDmn6Xor6INCiAgICBzZWFyY2goKSB7DQogICAgICB0aGlzLmN1cnJlbnRQYWdlID0gMTsNCiAgICAgIHRoaXMuZ2V0T3JkZXJzKCk7IC8vIOiwg+eUqOiOt+WPluWIl+ihqOWHveaVsA0KICAgIH0sDQogICAgLy8g5riF6ZmkDQogICAgY2xlYXIoKSB7DQogICAgICAvLyDmuIXnqbrmkJzntKLooajljZUNCiAgICAgIHRoaXMuc2VhcmNoRm9ybSA9IHsNCiAgICAgICAgb3JkZXJObzogIiIsDQogICAgICAgIGNvbnNpZ25lZTogIiIsDQogICAgICAgIHBob25lOiAiIiwNCiAgICAgICAgb3JkZXJTdGF0ZTogIiIsDQogICAgICAgIGRhdGU6IFtdLA0KICAgICAgfTsNCiAgICAgIC8vIOivt+axguaVsOaNrg0KICAgICAgdGhpcy5nZXRPcmRlcnMoKTsNCiAgICB9LA0KICAgIC8vIOiOt+WPluiuouWNlQ0KICAgIGFzeW5jIGdldE9yZGVycygpIHsNCiAgICAgIC8vIOaUtumbhuWPguaVsA0KICAgICAgbGV0IHBhcmFtcyA9IHsNCiAgICAgICAgY3VycmVudFBhZ2U6IHRoaXMuY3VycmVudFBhZ2UsDQogICAgICAgIHBhZ2VTaXplOiB0aGlzLnBhZ2VTaXplLA0KICAgICAgICBvcmRlck5vOiB0aGlzLnNlYXJjaEZvcm0ub3JkZXJObywNCiAgICAgICAgY29uc2lnbmVlOiB0aGlzLnNlYXJjaEZvcm0uY29uc2lnbmVlLA0KICAgICAgICBwaG9uZTogdGhpcy5zZWFyY2hGb3JtLnBob25lLA0KICAgICAgICBvcmRlclN0YXRlOiB0aGlzLnNlYXJjaEZvcm0ub3JkZXJTdGF0ZSwNCiAgICAgICAgZGF0ZTogSlNPTi5zdHJpbmdpZnkodGhpcy5zZWFyY2hGb3JtLmRhdGUpLA0KICAgICAgfTsNCg0KICAgICAgLy8g5Y+R6YCB6K+35rGCIOiOt+WPluiuouWNleWIl+ihqA0KICAgICAgbGV0IHsgdG90YWwsIGRhdGEgfSA9IGF3YWl0IGdldE9yZGVyTGlzdChwYXJhbXMpOw0KICAgICAgdGhpcy50b3RhbCA9IHRvdGFsOw0KDQogICAgICBkYXRhLmZvckVhY2goKHYpID0+IHsNCiAgICAgICAgdi5vcmRlclRpbWUgPSBtb21lbnQodi5vcmRlclRpbWUpLmZvcm1hdCgiWVlZWS1NTS1ERCBoaDptbTpzcyIpOw0KICAgICAgICB2LmRlbGl2ZXJ5VGltZSA9IG1vbWVudCh2LmRlbGl2ZXJ5VGltZSkuZm9ybWF0KCJZWVlZLU1NLUREIGhoOm1tOnNzIik7DQogICAgICB9KTsNCg0KICAgICAgdGhpcy50YWJsZURhdGEgPSBkYXRhOw0KICAgIH0sDQogICAgLy8g5b2T5YmN6aG156CB5pS55Y+YDQogICAgaGFuZGxlQ3VycmVudENoYW5nZSh2YWwpIHsNCiAgICAgIHRoaXMuY3VycmVudFBhZ2UgPSB2YWw7DQogICAgICB0aGlzLmdldE9yZGVycygpOw0KICAgIH0sDQogICAgLy8g5p+l55yL6K+m5oOFDQogICAgaGFuZGxlRGV0YWlsKHJvdykgew0KICAgICAgLy8gY29uc29sZS5sb2cocm93KTsNCiAgICAgIC8vIOaKiuaVsOaNruWtmOWFpeacrOWcsA0KICAgICAgd2luZG93LnNlc3Npb25TdG9yYWdlLnNldEl0ZW0oIm9yZGVyZGV0YWlsIiwgSlNPTi5zdHJpbmdpZnkocm93KSk7DQogICAgICAvLyAvLyDot7PovazpobXpnaINCiAgICAgIHRoaXMuJHJvdXRlci5wdXNoKCIvaG9tZS9vcmRlcmRldGFpbCIpOw0KICAgIH0sDQogIH0sDQogIGNyZWF0ZWQoKSB7DQogICAgdGhpcy5nZXRPcmRlcnMoKTsgLy8g6L+b5YWl6aG16Z2iIOWwseiwg+eUqOiOt+WPluiuouWNleaVsOaNrg0KICB9LA0KfTsNCg=="},{"version":3,"sources":["OrderManage.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAoJA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"OrderManage.vue","sourceRoot":"src/views/Order","sourcesContent":["<template>\r\n  <div class=\"order-manage\">\r\n    <el-card class=\"box-card\">\r\n      <div>\r\n        <!-- 查询表格 -->\r\n        <el-form\r\n          style=\"margin-bottom: 20px;\"\r\n          size=\"small\"\r\n          :inline=\"true\"\r\n          :model=\"searchForm\"\r\n          class=\"demo-form-inline\"\r\n        >\r\n          <!-- 订单号 -->\r\n          <el-form-item label=\"订单号\">\r\n            <el-input\r\n              v-model=\"searchForm.orderNo\"\r\n              placeholder=\"订单号\"\r\n            ></el-input>\r\n          </el-form-item>\r\n\r\n          <!-- 收货人 -->\r\n          <el-form-item label=\"收货人\">\r\n            <el-input\r\n              v-model=\"searchForm.consignee\"\r\n              placeholder=\"收货人\"\r\n            ></el-input>\r\n          </el-form-item>\r\n\r\n          <!-- 手机号 -->\r\n          <el-form-item label=\"手机号\">\r\n            <el-input\r\n              v-model=\"searchForm.phone\"\r\n              placeholder=\"手机号\"\r\n            ></el-input>\r\n          </el-form-item>\r\n\r\n          <!-- 订单状态 -->\r\n          <el-form-item label=\"订单状态\">\r\n            <el-select v-model=\"searchForm.orderState\" placeholder=\"订单状态\">\r\n              <el-option label=\"待出库\" value=\"待出库\"></el-option>\r\n              <el-option label=\"已出库\" value=\"已出库\"></el-option>\r\n              <el-option label=\"已完成\" value=\"已完成\"></el-option>\r\n            </el-select>\r\n          </el-form-item>\r\n\r\n          <!-- 时间范围 -->\r\n          <el-date-picker\r\n            size=\"small\"\r\n            v-model=\"searchForm.date\"\r\n            type=\"datetimerange\"\r\n            range-separator=\"至\"\r\n            start-placeholder=\"开始日期\"\r\n            end-placeholder=\"结束日期\"\r\n            value-format=\"yyyy-MM-dd HH:mm:ss\"\r\n          ></el-date-picker>\r\n\r\n          <!-- 清除按钮和查询按钮 -->\r\n          <el-form-item style=\"margin-left: 30px;\">\r\n            <el-button type=\"primary\" @click=\"search\">查询</el-button>\r\n            <el-button type=\"primary\" @click=\"clear\">清除</el-button>\r\n          </el-form-item>\r\n        </el-form>\r\n\r\n        <!-- 表格 -->\r\n        <el-table :data=\"tableData\" border style=\"width: 100%\">\r\n          <!-- 订单号 -->\r\n          <el-table-column\r\n            prop=\"orderNo\"\r\n            label=\"订单号\"\r\n            width=\"120\"\r\n          ></el-table-column>\r\n          <!-- 下单时间 -->\r\n          <el-table-column\r\n            prop=\"orderTime\"\r\n            label=\"下单时间\"\r\n            width=\"160\"\r\n          ></el-table-column>\r\n          <!-- 手机号 -->\r\n          <el-table-column\r\n            prop=\"phone\"\r\n            label=\"手机号\"\r\n            width=\"120\"\r\n          ></el-table-column>\r\n          <!-- 收货人 -->\r\n          <el-table-column\r\n            prop=\"consignee\"\r\n            label=\"收货人\"\r\n            width=\"120\"\r\n          ></el-table-column>\r\n          <!-- 订单地址 -->\r\n          <el-table-column\r\n            prop=\"deliverAddress\"\r\n            label=\"订单地址\"\r\n            width=\"120\"\r\n          ></el-table-column>\r\n          <!-- 送达时间 -->\r\n          <el-table-column\r\n            prop=\"deliveryTime\"\r\n            label=\"送达时间\"\r\n            width=\"160\"\r\n          ></el-table-column>\r\n          <!-- 备注 -->\r\n          <el-table-column\r\n            prop=\"remarks\"\r\n            label=\"备注\"\r\n            width=\"120\"\r\n          ></el-table-column>\r\n          <!-- 订单金额 -->\r\n          <el-table-column\r\n            prop=\"orderAmount\"\r\n            label=\"订单金额\"\r\n            width=\"120\"\r\n          ></el-table-column>\r\n          <!-- 订单状态 -->\r\n          <el-table-column\r\n            prop=\"orderState\"\r\n            label=\"订单状态\"\r\n            width=\"120\"\r\n          ></el-table-column>\r\n          <!-- 操作 -->\r\n          <el-table-column fixed=\"right\" label=\"操作\" width=\"100\">\r\n            <template slot-scope=\"scope\">\r\n              <el-button\r\n                @click=\"handleDetail(scope.row)\"\r\n                type=\"text\"\r\n                size=\"small\"\r\n                >查看</el-button\r\n              >\r\n            </template>\r\n          </el-table-column>\r\n        </el-table>\r\n\r\n        <!-- 分页组件 -->\r\n        <div style=\"margin-top: 30px;\">\r\n          <el-pagination\r\n            @current-change=\"handleCurrentChange\"\r\n            :current-page=\"currentPage\"\r\n            :page-size=\"pageSize\"\r\n            layout=\"total, prev, pager, next, jumper\"\r\n            :total=\"total\"\r\n          ></el-pagination>\r\n        </div>\r\n      </div>\r\n    </el-card>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { getOrderList } from \"@/api/order\";\r\nimport moment from \"moment\";\r\n\r\nexport default {\r\n  data() {\r\n    return {\r\n      // 订单表格数据\r\n      tableData: [],\r\n      // 搜索表单数据\r\n      searchForm: {\r\n        orderNo: \"\",\r\n        consignee: \"\",\r\n        phone: \"\",\r\n        orderState: \"\",\r\n        date: [],\r\n      },\r\n      currentPage: 1, // 当前页\r\n      pageSize: 5, // 每页条数\r\n      total: 12, // 总条数\r\n    };\r\n  },\r\n  methods: {\r\n    // 查询\r\n    search() {\r\n      this.currentPage = 1;\r\n      this.getOrders(); // 调用获取列表函数\r\n    },\r\n    // 清除\r\n    clear() {\r\n      // 清空搜索表单\r\n      this.searchForm = {\r\n        orderNo: \"\",\r\n        consignee: \"\",\r\n        phone: \"\",\r\n        orderState: \"\",\r\n        date: [],\r\n      };\r\n      // 请求数据\r\n      this.getOrders();\r\n    },\r\n    // 获取订单\r\n    async getOrders() {\r\n      // 收集参数\r\n      let params = {\r\n        currentPage: this.currentPage,\r\n        pageSize: this.pageSize,\r\n        orderNo: this.searchForm.orderNo,\r\n        consignee: this.searchForm.consignee,\r\n        phone: this.searchForm.phone,\r\n        orderState: this.searchForm.orderState,\r\n        date: JSON.stringify(this.searchForm.date),\r\n      };\r\n\r\n      // 发送请求 获取订单列表\r\n      let { total, data } = await getOrderList(params);\r\n      this.total = total;\r\n\r\n      data.forEach((v) => {\r\n        v.orderTime = moment(v.orderTime).format(\"YYYY-MM-DD hh:mm:ss\");\r\n        v.deliveryTime = moment(v.deliveryTime).format(\"YYYY-MM-DD hh:mm:ss\");\r\n      });\r\n\r\n      this.tableData = data;\r\n    },\r\n    // 当前页码改变\r\n    handleCurrentChange(val) {\r\n      this.currentPage = val;\r\n      this.getOrders();\r\n    },\r\n    // 查看详情\r\n    handleDetail(row) {\r\n      // console.log(row);\r\n      // 把数据存入本地\r\n      window.sessionStorage.setItem(\"orderdetail\", JSON.stringify(row));\r\n      // // 跳转页面\r\n      this.$router.push(\"/home/orderdetail\");\r\n    },\r\n  },\r\n  created() {\r\n    this.getOrders(); // 进入页面 就调用获取订单数据\r\n  },\r\n};\r\n</script>\r\n\r\n<style lang=\"less\" scoped></style>\r\n"]}]}
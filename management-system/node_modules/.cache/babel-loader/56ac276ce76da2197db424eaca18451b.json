{"remainingRequest":"D:\\Study\\vue\\bishe\\warehouse-management-system\\management-system\\node_modules\\babel-loader\\lib\\index.js!D:\\Study\\vue\\bishe\\warehouse-management-system\\management-system\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!D:\\Study\\vue\\bishe\\warehouse-management-system\\management-system\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\Study\\vue\\bishe\\warehouse-management-system\\management-system\\src\\views\\Login.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\Study\\vue\\bishe\\warehouse-management-system\\management-system\\src\\views\\Login.vue","mtime":1646716328331},{"path":"D:\\Study\\vue\\bishe\\warehouse-management-system\\management-system\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1624891997656},{"path":"D:\\Study\\vue\\bishe\\warehouse-management-system\\management-system\\node_modules\\babel-loader\\lib\\index.js","mtime":1633574065756},{"path":"D:\\Study\\vue\\bishe\\warehouse-management-system\\management-system\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1624891997656},{"path":"D:\\Study\\vue\\bishe\\warehouse-management-system\\management-system\\node_modules\\vue-loader\\lib\\index.js","mtime":1646716386708}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuaW5jbHVkZXMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5zdHJpbmcuaW5jbHVkZXMiOwppbXBvcnQgInJlZ2VuZXJhdG9yLXJ1bnRpbWUvcnVudGltZSI7CmltcG9ydCBfYXN5bmNUb0dlbmVyYXRvciBmcm9tICJEOlxcU3R1ZHlcXHZ1ZVxcYmlzaGVcXHdhcmVob3VzZS1tYW5hZ2VtZW50LXN5c3RlbVxcbWFuYWdlbWVudC1zeXN0ZW1cXG5vZGVfbW9kdWxlc1xcQGJhYmVsXFxydW50aW1lL2hlbHBlcnMvZXNtL2FzeW5jVG9HZW5lcmF0b3IiOwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLyDlvJXlhaXlt6Xlhbflh73mlbAKaW1wb3J0IHsgcHdkUmVnIH0gZnJvbSAiLi4vdXRpbHMvcmVnIjsgLy8g5byV5YWl6K+35rGC5o6l5Y+j55qE5Ye95pWwCgppbXBvcnQgeyBjaGVja0xvZ2luIH0gZnJvbSAiQC9hcGkvYWNjb3VudCI7IC8vIOW8leWFpeacrOWcsOWtmOWCqOW3peWFt+WHveaVsAoKaW1wb3J0IGxvY2FsIGZyb20gIkAvdXRpbHMvc2Vzc2lvbiI7CmV4cG9ydCBkZWZhdWx0IHsKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgLy8g6Ieq5a6a5LmJ6aqM6K+B5a+G56CBCiAgICB2YXIgdmFsaWRhdGVQd2QgPSBmdW5jdGlvbiB2YWxpZGF0ZVB3ZChydWxlLCB2YWx1ZSwgY2FsbGJhY2spIHsKICAgICAgaWYgKHZhbHVlID09PSAiIikgewogICAgICAgIGNhbGxiYWNrKG5ldyBFcnJvcigi6K+36L6T5YWl5a+G56CBIikpOwogICAgICB9IGVsc2UgaWYgKCFydWxlLnJlZ3VsYXIudGVzdCh2YWx1ZSkpIHsKICAgICAgICBjYWxsYmFjayhuZXcgRXJyb3IoIuWvhueggeeUseaVsOWtl+WSjOWtl+avjee7hOaIkO+8jOmVv+W6pjYtMTLkvY0iKSk7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgY2FsbGJhY2soKTsKICAgICAgfQogICAgfTsKCiAgICByZXR1cm4gewogICAgICAvLyDnmbvlvZXooajljZUKICAgICAgbG9naW5Gb3JtOiB7CiAgICAgICAgYWNjb3VudDogIiIsCiAgICAgICAgcGFzc3dvcmQ6ICIiCiAgICAgIH0sCiAgICAgIC8vIOaYvuekuumakOiXjwogICAgICBpc1Nob3c6IGZhbHNlLAogICAgICAvLyDpqozor4Hop4TliJnlr7nosaEKICAgICAgbG9naW5SdWxlczogewogICAgICAgIGFjY291bnQ6IFsvLyDpnZ7nqbrpqozor4EKICAgICAgICB7CiAgICAgICAgICByZXF1aXJlZDogdHJ1ZSwKICAgICAgICAgIG1lc3NhZ2U6ICLotKblj7fkuI3og73kuLrnqboiLAogICAgICAgICAgdHJpZ2dlcjogImJsdXIiCiAgICAgICAgfSwgLy8g6ZW/5bqmCiAgICAgICAgewogICAgICAgICAgbWluOiA1LAogICAgICAgICAgbWF4OiAxMiwKICAgICAgICAgIG1lc3NhZ2U6ICLotKblj7fplb/luqbkuLo1LTEy5L2NIiwKICAgICAgICAgIHRyaWdnZXI6ICJibHVyIgogICAgICAgIH1dLAogICAgICAgIHBhc3N3b3JkOiBbLy8g6Z2e56m66aqM6K+BCiAgICAgICAgLy8geyByZXF1aXJlZDogdHJ1ZSwgbWVzc2FnZTogIuivt+i+k+WFpeWvhueggSIsIHRyaWdnZXI6ICJibHVyIiB9LAogICAgICAgIC8vIOiHquWumuS5iemqjOivgQogICAgICAgIHsKICAgICAgICAgIHZhbGlkYXRvcjogdmFsaWRhdGVQd2QsCiAgICAgICAgICByZWd1bGFyOiBwd2RSZWcoKSwKICAgICAgICAgIHRyaWdnZXI6ICJibHVyIgogICAgICAgIH1dCiAgICAgIH0KICAgIH07CiAgfSwKICBtZXRob2RzOiB7CiAgICBjaGFuZ2VUeXBlOiBmdW5jdGlvbiBjaGFuZ2VUeXBlKGUpIHsKICAgICAgaWYgKGUudGFyZ2V0LmNsYXNzTmFtZS5pbmNsdWRlcygiaXNTaG93IikpIHsKICAgICAgICB0aGlzLmlzU2hvdyA9ICF0aGlzLmlzU2hvdzsKICAgICAgfQogICAgfSwKICAgIC8vIOeZu+W9lQogICAgc3VibWl0Rm9ybTogZnVuY3Rpb24gc3VibWl0Rm9ybSgpIHsKICAgICAgdmFyIF90aGlzID0gdGhpczsKCiAgICAgIC8vIGNvbnNvbGUubG9nKHRoaXMuJHJlZnMubG9naW5Gb3JtLnZhbGlkYXRlKTsKICAgICAgdGhpcy4kcmVmcy5sb2dpbkZvcm0udmFsaWRhdGUoIC8qI19fUFVSRV9fKi9mdW5jdGlvbiAoKSB7CiAgICAgICAgdmFyIF9yZWYgPSBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUodmFsaWQpIHsKICAgICAgICAgIHZhciBfeWllbGQkY2hlY2tMb2dpbiwgY29kZSwgdG9rZW4sIHJvbGU7CgogICAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUkKF9jb250ZXh0KSB7CiAgICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dC5wcmV2ID0gX2NvbnRleHQubmV4dCkgewogICAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgICBpZiAoIXZhbGlkKSB7CiAgICAgICAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDEwOwogICAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gMzsKICAgICAgICAgICAgICAgICAgcmV0dXJuIGNoZWNrTG9naW4oX3RoaXMubG9naW5Gb3JtKTsKCiAgICAgICAgICAgICAgICBjYXNlIDM6CiAgICAgICAgICAgICAgICAgIF95aWVsZCRjaGVja0xvZ2luID0gX2NvbnRleHQuc2VudDsKICAgICAgICAgICAgICAgICAgY29kZSA9IF95aWVsZCRjaGVja0xvZ2luLmNvZGU7CiAgICAgICAgICAgICAgICAgIHRva2VuID0gX3lpZWxkJGNoZWNrTG9naW4udG9rZW47CiAgICAgICAgICAgICAgICAgIHJvbGUgPSBfeWllbGQkY2hlY2tMb2dpbi5yb2xlOwoKICAgICAgICAgICAgICAgICAgLy8g5aaC5p6c55m75b2V5oiQ5YqfICDot7PovazliLDlkI7nq6/pppbpobUKICAgICAgICAgICAgICAgICAgaWYgKGNvZGUgPT09IDApIHsKICAgICAgICAgICAgICAgICAgICAvLyDmiop0b2tlbuWtmOWFpeacrOWcsOWtmOWCqAogICAgICAgICAgICAgICAgICAgIGxvY2FsLnNldCgidG9rZW4iLCB0b2tlbik7CiAgICAgICAgICAgICAgICAgICAgbG9jYWwuc2V0KCJyb2xlIiwgcm9sZSk7IC8vIOi3s+i9rOWIsOmmlumhtQoKICAgICAgICAgICAgICAgICAgICBfdGhpcy4kcm91dGVyLnB1c2goIi9ob21lIik7CiAgICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSAxMTsKICAgICAgICAgICAgICAgICAgYnJlYWs7CgogICAgICAgICAgICAgICAgY2FzZSAxMDoKICAgICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0LmFicnVwdCgicmV0dXJuIiwgZmFsc2UpOwoKICAgICAgICAgICAgICAgIGNhc2UgMTE6CiAgICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuc3RvcCgpOwogICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQogICAgICAgICAgfSwgX2NhbGxlZSk7CiAgICAgICAgfSkpOwoKICAgICAgICByZXR1cm4gZnVuY3Rpb24gKF94KSB7CiAgICAgICAgICByZXR1cm4gX3JlZi5hcHBseSh0aGlzLCBhcmd1bWVudHMpOwogICAgICAgIH07CiAgICAgIH0oKSk7CiAgICB9CiAgfQp9Ow=="},{"version":3,"sources":["Login.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAmEA;AACA,SAAA,MAAA,QAAA,cAAA,C,CACA;;AACA,SAAA,UAAA,QAAA,eAAA,C,CACA;;AACA,OAAA,KAAA,MAAA,iBAAA;AACA,eAAA;AACA,EAAA,IADA,kBACA;AACA;AACA,QAAA,WAAA,GAAA,SAAA,WAAA,CAAA,IAAA,EAAA,KAAA,EAAA,QAAA,EAAA;AACA,UAAA,KAAA,KAAA,EAAA,EAAA;AACA,QAAA,QAAA,CAAA,IAAA,KAAA,CAAA,OAAA,CAAA,CAAA;AACA,OAFA,MAEA,IAAA,CAAA,IAAA,CAAA,OAAA,CAAA,IAAA,CAAA,KAAA,CAAA,EAAA;AACA,QAAA,QAAA,CAAA,IAAA,KAAA,CAAA,oBAAA,CAAA,CAAA;AACA,OAFA,MAEA;AACA,QAAA,QAAA;AACA;AACA,KARA;;AASA,WAAA;AACA;AACA,MAAA,SAAA,EAAA;AACA,QAAA,OAAA,EAAA,EADA;AAEA,QAAA,QAAA,EAAA;AAFA,OAFA;AAMA;AACA,MAAA,MAAA,EAAA,KAPA;AAQA;AACA,MAAA,UAAA,EAAA;AACA,QAAA,OAAA,EAAA,CACA;AACA;AAAA,UAAA,QAAA,EAAA,IAAA;AAAA,UAAA,OAAA,EAAA,QAAA;AAAA,UAAA,OAAA,EAAA;AAAA,SAFA,EAGA;AACA;AAAA,UAAA,GAAA,EAAA,CAAA;AAAA,UAAA,GAAA,EAAA,EAAA;AAAA,UAAA,OAAA,EAAA,YAAA;AAAA,UAAA,OAAA,EAAA;AAAA,SAJA,CADA;AAOA,QAAA,QAAA,EAAA,CACA;AACA;AACA;AACA;AACA,UAAA,SAAA,EAAA,WADA;AAEA,UAAA,OAAA,EAAA,MAAA,EAFA;AAGA,UAAA,OAAA,EAAA;AAHA,SAJA;AAPA;AATA,KAAA;AA4BA,GAxCA;AAyCA,EAAA,OAAA,EAAA;AACA,IAAA,UADA,sBACA,CADA,EACA;AACA,UAAA,CAAA,CAAA,MAAA,CAAA,SAAA,CAAA,QAAA,CAAA,QAAA,CAAA,EAAA;AACA,aAAA,MAAA,GAAA,CAAA,KAAA,MAAA;AACA;AACA,KALA;AAMA;AACA,IAAA,UAPA,wBAOA;AAAA;;AACA;AACA,WAAA,KAAA,CAAA,SAAA,CAAA,QAAA;AAAA,2EAAA,iBAAA,KAAA;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA,uBAEA,KAFA;AAAA;AAAA;AAAA;;AAAA;AAAA,yBAIA,UAAA,CAAA,KAAA,CAAA,SAAA,CAJA;;AAAA;AAAA;AAIA,kBAAA,IAJA,qBAIA,IAJA;AAIA,kBAAA,KAJA,qBAIA,KAJA;AAIA,kBAAA,IAJA,qBAIA,IAJA;;AAMA;AACA,sBAAA,IAAA,KAAA,CAAA,EAAA;AACA;AACA,oBAAA,KAAA,CAAA,GAAA,CAAA,OAAA,EAAA,KAAA;AACA,oBAAA,KAAA,CAAA,GAAA,CAAA,MAAA,EAAA,IAAA,EAHA,CAKA;;AACA,oBAAA,KAAA,CAAA,OAAA,CAAA,IAAA,CAAA,OAAA;AACA;;AAdA;AAAA;;AAAA;AAAA,mDAgBA,KAhBA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAAA;;AAAA;AAAA;AAAA;AAAA;AAmBA;AA5BA;AAzCA,CAAA","sourcesContent":["<template>\r\n  <div class=\"login\">\r\n    <el-container>\r\n      <el-header>\r\n        <h1>\r\n          仓库管理系统\r\n          <span>登录</span>\r\n        </h1>\r\n      </el-header>\r\n      <el-main>\r\n        <!-- 登录表单 -->\r\n        <el-form\r\n          status-icon\r\n          :model=\"loginForm\"\r\n          :rules=\"loginRules\"\r\n          ref=\"loginForm\"\r\n          class=\"login-form\"\r\n        >\r\n          <div class=\"title\">\r\n            <h1>\r\n              系统登录\r\n            </h1>\r\n          </div>\r\n          <!-- 账号 -->\r\n          <el-form-item prop=\"account\">\r\n            <el-input\r\n              v-model=\"loginForm.account\"\r\n              prefix-icon=\"iconfont icon-zhanghao1\"\r\n              type=\"account\"\r\n              autocomplete=\"off\"\r\n            ></el-input>\r\n          </el-form-item>\r\n          <!-- 密码 -->\r\n          <el-form-item prop=\"password\">\r\n            <el-input\r\n              v-model=\"loginForm.password\"\r\n              @click.native=\"changeType\"\r\n              prefix-icon=\"iconfont icon-mima\"\r\n              :suffix-icon=\"\r\n                isShow\r\n                  ? 'iconfont isShow icon-xianshi'\r\n                  : 'iconfont isShow icon-yincang'\r\n              \"\r\n              :type=\"isShow ? 'text' : 'password'\"\r\n              autocomplete=\"off\"\r\n            ></el-input>\r\n          </el-form-item>\r\n          <!-- 按钮 -->\r\n          <el-form-item>\r\n            <el-button class=\"login-button\" type=\"primary\" @click=\"submitForm\"\r\n              >登录</el-button\r\n            >\r\n          </el-form-item>\r\n        </el-form>\r\n      </el-main>\r\n      <el-footer\r\n        ><div class=\"copyright\">\r\n          <h1>\r\n            &copy;毕业设计&nbsp;版权所有：四川师范大学&nbsp;物理与电子工程学院&nbsp;2016级&nbsp;顾郑凯\r\n          </h1>\r\n        </div></el-footer\r\n      >\r\n    </el-container>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\n// 引入工具函数\r\nimport { pwdReg } from \"../utils/reg\";\r\n// 引入请求接口的函数\r\nimport { checkLogin } from \"@/api/account\";\r\n// 引入本地存储工具函数\r\nimport local from \"@/utils/session\";\r\nexport default {\r\n  data() {\r\n    // 自定义验证密码\r\n    const validatePwd = (rule, value, callback) => {\r\n      if (value === \"\") {\r\n        callback(new Error(\"请输入密码\"));\r\n      } else if (!rule.regular.test(value)) {\r\n        callback(new Error(\"密码由数字和字母组成，长度6-12位\"));\r\n      } else {\r\n        callback();\r\n      }\r\n    };\r\n    return {\r\n      // 登录表单\r\n      loginForm: {\r\n        account: \"\",\r\n        password: \"\",\r\n      },\r\n      // 显示隐藏\r\n      isShow: false,\r\n      // 验证规则对象\r\n      loginRules: {\r\n        account: [\r\n          // 非空验证\r\n          { required: true, message: \"账号不能为空\", trigger: \"blur\" },\r\n          // 长度\r\n          { min: 5, max: 12, message: \"账号长度为5-12位\", trigger: \"blur\" },\r\n        ],\r\n        password: [\r\n          // 非空验证\r\n          // { required: true, message: \"请输入密码\", trigger: \"blur\" },\r\n          // 自定义验证\r\n          {\r\n            validator: validatePwd,\r\n            regular: pwdReg(),\r\n            trigger: \"blur\",\r\n          },\r\n        ],\r\n      },\r\n    };\r\n  },\r\n  methods: {\r\n    changeType(e) {\r\n      if (e.target.className.includes(\"isShow\")) {\r\n        this.isShow = !this.isShow;\r\n      }\r\n    },\r\n    // 登录\r\n    submitForm() {\r\n      // console.log(this.$refs.loginForm.validate);\r\n      this.$refs.loginForm.validate(async (valid) => {\r\n        // console.log(valid);\r\n        if (valid) {\r\n          // 发送登录请求\r\n          let { code, token, role } = await checkLogin(this.loginForm);\r\n\r\n          // 如果登录成功  跳转到后端首页\r\n          if (code === 0) {\r\n            // 把token存入本地存储\r\n            local.set(\"token\", token);\r\n            local.set(\"role\", role);\r\n\r\n            // 跳转到首页\r\n            this.$router.push(\"/home\");\r\n          }\r\n        } else {\r\n          return false;\r\n        }\r\n      });\r\n    },\r\n  },\r\n};\r\n</script>\r\n\r\n<style lang=\"less\">\r\n.login {\r\n  width: 100%;\r\n  height: 100%;\r\n  // background: #f5f5f6;\r\n  .el-container {\r\n    width: 100%;\r\n    height: 100%;\r\n    .el-header {\r\n      color: #333;\r\n      text-align: left;\r\n      line-height: 60px;\r\n      h1 {\r\n        color: #ff6a00;\r\n        font-size: 24px;\r\n        margin: 0 auto;\r\n        max-width: 1200px;\r\n        span {\r\n          font-size: 24px;\r\n          color: #181818;\r\n          letter-spacing: 0;\r\n          height: 30px;\r\n          margin-left: 10px;\r\n          padding: 0 10px;\r\n          vertical-align: bottom;\r\n          border-left: 1px solid #999;\r\n        }\r\n      }\r\n    }\r\n    .el-main {\r\n      background-color: #e9eef3;\r\n      color: #333;\r\n      display: flex;\r\n      justify-content: center;\r\n      align-items: center;\r\n      flex-direction: column;\r\n      text-align: center;\r\n      line-height: 160px;\r\n      .login-form {\r\n        width: 400px;\r\n        .title {\r\n          h1 {\r\n            text-align: center;\r\n            font-size: 30px;\r\n            color: #ff6a00;\r\n            line-height: 50px;\r\n            margin-bottom: 30px;\r\n          }\r\n        }\r\n        .el-input__icon {\r\n          color: #000;\r\n        }\r\n        .el-form-item.is-error .el-input__validateIcon {\r\n          color: #f56c6c;\r\n        }\r\n        .login-button {\r\n          width: 100%;\r\n        }\r\n      }\r\n    }\r\n    .el-footer {\r\n      background-color: #e9eef3;\r\n\r\n      .copyright {\r\n        font-size: 12px;\r\n        text-align: center;\r\n        line-height: 60px;\r\n        color: #73777a;\r\n      }\r\n    }\r\n  }\r\n}\r\n</style>\r\n"],"sourceRoot":"src/views"}]}
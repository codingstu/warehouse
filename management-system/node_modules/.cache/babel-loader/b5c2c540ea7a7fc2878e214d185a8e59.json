{"remainingRequest":"D:\\Study\\vue\\bishe\\warehouse-management-system\\management-system\\node_modules\\babel-loader\\lib\\index.js!D:\\Study\\vue\\bishe\\warehouse-management-system\\management-system\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!D:\\Study\\vue\\bishe\\warehouse-management-system\\management-system\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\Study\\vue\\bishe\\warehouse-management-system\\management-system\\src\\views\\AccountManage\\AccountAdd.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\Study\\vue\\bishe\\warehouse-management-system\\management-system\\src\\views\\AccountManage\\AccountAdd.vue","mtime":1646716328326},{"path":"D:\\Study\\vue\\bishe\\warehouse-management-system\\management-system\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1624891997656},{"path":"D:\\Study\\vue\\bishe\\warehouse-management-system\\management-system\\node_modules\\babel-loader\\lib\\index.js","mtime":1633574065756},{"path":"D:\\Study\\vue\\bishe\\warehouse-management-system\\management-system\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1624891997656},{"path":"D:\\Study\\vue\\bishe\\warehouse-management-system\\management-system\\node_modules\\vue-loader\\lib\\index.js","mtime":1646716386708}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJyZWdlbmVyYXRvci1ydW50aW1lL3J1bnRpbWUiOwppbXBvcnQgX2FzeW5jVG9HZW5lcmF0b3IgZnJvbSAiRDpcXFN0dWR5XFx2dWVcXGJpc2hlXFx3YXJlaG91c2UtbWFuYWdlbWVudC1zeXN0ZW1cXG1hbmFnZW1lbnQtc3lzdGVtXFxub2RlX21vZHVsZXNcXEBiYWJlbFxccnVudGltZS9oZWxwZXJzL2VzbS9hc3luY1RvR2VuZXJhdG9yIjsKLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8g5byV5YWl5bel5YW35Ye95pWwCmltcG9ydCB7IHB3ZFJlZyB9IGZyb20gIkAvdXRpbHMvcmVnIjsgLy8g5byV5YWl5o6l5Y+j6K+35rGC5pa55rOVCgppbXBvcnQgeyBhZGRBY2NvdW50IH0gZnJvbSAiQC9hcGkvYWNjb3VudCI7CmV4cG9ydCBkZWZhdWx0IHsKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgLy8g6Ieq5a6a5LmJ6aqM6K+B5a+G56CBCiAgICB2YXIgdmFsaWRhdGVQd2QgPSBmdW5jdGlvbiB2YWxpZGF0ZVB3ZChydWxlLCB2YWx1ZSwgY2FsbGJhY2spIHsKICAgICAgaWYgKHZhbHVlID09PSAiIikgewogICAgICAgIGNhbGxiYWNrKG5ldyBFcnJvcigi5a+G56CB5LiN6IO95Li656m6IikpOyAvLyDplJnor6/mg4XlhrUKICAgICAgfSBlbHNlIGlmICghcnVsZS5wYXR0ZXJuLnRlc3QodmFsdWUpKSB7CiAgICAgICAgY2FsbGJhY2sobmV3IEVycm9yKCLlr4bnoIHnlLHmlbDlrZflkozlrZfmr43nu4TmiJDvvIzplb/luqY2LTEy5L2NIikpOyAvLyDplJnor6/mg4XlhrUKICAgICAgfSBlbHNlIHsKICAgICAgICBjYWxsYmFjaygpOyAvLyDmiJDlip8KICAgICAgfQogICAgfTsKCiAgICByZXR1cm4gewogICAgICAvLyDmt7vliqDotKblj7fooajljZUKICAgICAgYWNjb3VudEFkZEZvcm06IHsKICAgICAgICBhY2NvdW50OiAiIiwKICAgICAgICBwYXNzd29yZDogIiIsCiAgICAgICAgdXNlckdyb3VwOiAiIgogICAgICB9LAogICAgICAvLyDpqozor4Hop4TliJkKICAgICAgcnVsZXM6IHsKICAgICAgICBhY2NvdW50OiBbewogICAgICAgICAgcmVxdWlyZWQ6IHRydWUsCiAgICAgICAgICBtZXNzYWdlOiAi6LSm5Y+35LiN6IO95Li656m6IiwKICAgICAgICAgIHRyaWdnZXI6ICJibHVyIgogICAgICAgIH0sIHsKICAgICAgICAgIG1pbjogNSwKICAgICAgICAgIG1heDogMTIsCiAgICAgICAgICBtZXNzYWdlOiAi6LSm5Y+36ZW/5bqm5ZyoIDUgfiAxMiDkvY0iLAogICAgICAgICAgdHJpZ2dlcjogImJsdXIiCiAgICAgICAgfV0sCiAgICAgICAgLy8g5a+G56CB6Ieq5a6a5LmJ6aqM6K+BCiAgICAgICAgcGFzc3dvcmQ6IFt7CiAgICAgICAgICByZXF1aXJlZDogdHJ1ZSwKICAgICAgICAgIHBhdHRlcm46IHB3ZFJlZygpLAogICAgICAgICAgdmFsaWRhdG9yOiB2YWxpZGF0ZVB3ZCwKICAgICAgICAgIHRyaWdnZXI6ICJibHVyIgogICAgICAgIH1dLAogICAgICAgIHVzZXJHcm91cDogW3sKICAgICAgICAgIHJlcXVpcmVkOiB0cnVlLAogICAgICAgICAgbWVzc2FnZTogIuivt+mAieaLqeeUqOaIt+e7hCIsCiAgICAgICAgICB0cmlnZ2VyOiAiY2hhbmdlIgogICAgICAgIH1dCiAgICAgIH0KICAgIH07CiAgfSwKICBtZXRob2RzOiB7CiAgICAvLyDmj5DkuqTooajljZUKICAgIHN1Ym1pdEZvcm06IGZ1bmN0aW9uIHN1Ym1pdEZvcm0oKSB7CiAgICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgICAvLyDojrflj5bmlbTkuKrooajljZUg6LCD55So5YaF572u5pa55rOV6aqM6K+B5omA5pyJ6KGo5Y2VCiAgICAgIHRoaXMuJHJlZnMuYWNjb3VudEFkZEZvcm0udmFsaWRhdGUoIC8qI19fUFVSRV9fKi9mdW5jdGlvbiAoKSB7CiAgICAgICAgdmFyIF9yZWYgPSBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUodmFsaWQpIHsKICAgICAgICAgIHZhciBfeWllbGQkYWRkQWNjb3VudCwgY29kZSwgbXNnOwoKICAgICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlJChfY29udGV4dCkgewogICAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQucHJldiA9IF9jb250ZXh0Lm5leHQpIHsKICAgICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgICAgaWYgKCF2YWxpZCkgewogICAgICAgICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSA5OwogICAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gMzsKICAgICAgICAgICAgICAgICAgcmV0dXJuIGFkZEFjY291bnQoX3RoaXMuYWNjb3VudEFkZEZvcm0pOwoKICAgICAgICAgICAgICAgIGNhc2UgMzoKICAgICAgICAgICAgICAgICAgX3lpZWxkJGFkZEFjY291bnQgPSBfY29udGV4dC5zZW50OwogICAgICAgICAgICAgICAgICBjb2RlID0gX3lpZWxkJGFkZEFjY291bnQuY29kZTsKICAgICAgICAgICAgICAgICAgbXNnID0gX3lpZWxkJGFkZEFjY291bnQubXNnOwoKICAgICAgICAgICAgICAgICAgLy8g5oiQ5YqfCiAgICAgICAgICAgICAgICAgIGlmIChjb2RlID09PSAwKSB7CiAgICAgICAgICAgICAgICAgICAgLy8g6Lev55Sx6Lez6L2sCiAgICAgICAgICAgICAgICAgICAgX3RoaXMuJHJvdXRlci5wdXNoKCIvaG9tZS9hY2NvdW50bGlzdCIpOwogICAgICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgICAgIC8vIOWksei0peaPkOekugogICAgICAgICAgICAgICAgICAgIF90aGlzLiRtZXNzYWdlLmVycm9yKG1zZyk7CiAgICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSAxMDsKICAgICAgICAgICAgICAgICAgYnJlYWs7CgogICAgICAgICAgICAgICAgY2FzZSA5OgogICAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuYWJydXB0KCJyZXR1cm4iLCBmYWxzZSk7CgogICAgICAgICAgICAgICAgY2FzZSAxMDoKICAgICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5zdG9wKCk7CiAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAgICAgICAgICB9LCBfY2FsbGVlKTsKICAgICAgICB9KSk7CgogICAgICAgIHJldHVybiBmdW5jdGlvbiAoX3gpIHsKICAgICAgICAgIHJldHVybiBfcmVmLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7CiAgICAgICAgfTsKICAgICAgfSgpKTsKICAgIH0sCiAgICAvLyDph43nva7ooajljZUKICAgIHJlc2V0Rm9ybTogZnVuY3Rpb24gcmVzZXRGb3JtKCkgewogICAgICAvLyDojrflj5bmlbTkuKrooajljZUg6LCD55So6YeN572u5pa55rOVCiAgICAgIHRoaXMuJHJlZnMuYWNjb3VudEFkZEZvcm0ucmVzZXRGaWVsZHMoKTsKICAgIH0KICB9Cn07"},{"version":3,"sources":["AccountAdd.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA0DA;AACA,SAAA,MAAA,QAAA,aAAA,C,CAEA;;AACA,SAAA,UAAA,QAAA,eAAA;AAEA,eAAA;AACA,EAAA,IADA,kBACA;AACA;AACA,QAAA,WAAA,GAAA,SAAA,WAAA,CAAA,IAAA,EAAA,KAAA,EAAA,QAAA,EAAA;AACA,UAAA,KAAA,KAAA,EAAA,EAAA;AACA,QAAA,QAAA,CAAA,IAAA,KAAA,CAAA,QAAA,CAAA,CAAA,CADA,CACA;AACA,OAFA,MAEA,IAAA,CAAA,IAAA,CAAA,OAAA,CAAA,IAAA,CAAA,KAAA,CAAA,EAAA;AACA,QAAA,QAAA,CAAA,IAAA,KAAA,CAAA,oBAAA,CAAA,CAAA,CADA,CACA;AACA,OAFA,MAEA;AACA,QAAA,QAAA,GADA,CACA;AACA;AACA,KARA;;AAUA,WAAA;AACA;AACA,MAAA,cAAA,EAAA;AACA,QAAA,OAAA,EAAA,EADA;AAEA,QAAA,QAAA,EAAA,EAFA;AAGA,QAAA,SAAA,EAAA;AAHA,OAFA;AAOA;AACA,MAAA,KAAA,EAAA;AACA,QAAA,OAAA,EAAA,CACA;AAAA,UAAA,QAAA,EAAA,IAAA;AAAA,UAAA,OAAA,EAAA,QAAA;AAAA,UAAA,OAAA,EAAA;AAAA,SADA,EAEA;AAAA,UAAA,GAAA,EAAA,CAAA;AAAA,UAAA,GAAA,EAAA,EAAA;AAAA,UAAA,OAAA,EAAA,gBAAA;AAAA,UAAA,OAAA,EAAA;AAAA,SAFA,CADA;AAKA;AACA,QAAA,QAAA,EAAA,CACA;AACA,UAAA,QAAA,EAAA,IADA;AAEA,UAAA,OAAA,EAAA,MAAA,EAFA;AAGA,UAAA,SAAA,EAAA,WAHA;AAIA,UAAA,OAAA,EAAA;AAJA,SADA,CANA;AAcA,QAAA,SAAA,EAAA,CACA;AAAA,UAAA,QAAA,EAAA,IAAA;AAAA,UAAA,OAAA,EAAA,QAAA;AAAA,UAAA,OAAA,EAAA;AAAA,SADA;AAdA;AARA,KAAA;AA2BA,GAxCA;AAyCA,EAAA,OAAA,EAAA;AACA;AACA,IAAA,UAFA,wBAEA;AAAA;;AACA;AACA,WAAA,KAAA,CAAA,cAAA,CAAA,QAAA;AAAA,2EAAA,iBAAA,KAAA;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA,uBACA,KADA;AAAA;AAAA;AAAA;;AAAA;AAAA,yBAIA,UAAA,CAAA,KAAA,CAAA,cAAA,CAJA;;AAAA;AAAA;AAIA,kBAAA,IAJA,qBAIA,IAJA;AAIA,kBAAA,GAJA,qBAIA,GAJA;;AAMA;AACA,sBAAA,IAAA,KAAA,CAAA,EAAA;AACA;AACA,oBAAA,KAAA,CAAA,OAAA,CAAA,IAAA,CAAA,mBAAA;AACA,mBAHA,MAGA;AACA;AACA,oBAAA,KAAA,CAAA,QAAA,CAAA,KAAA,CAAA,GAAA;AACA;;AAbA;AAAA;;AAAA;AAAA,mDAeA,KAfA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAAA;;AAAA;AAAA;AAAA;AAAA;AAkBA,KAtBA;AAuBA;AACA,IAAA,SAxBA,uBAwBA;AACA;AACA,WAAA,KAAA,CAAA,cAAA,CAAA,WAAA;AACA;AA3BA;AAzCA,CAAA","sourcesContent":["<template>\r\n  <div class=\"account-add\">\r\n    <el-card class=\"box-card\">\r\n      <!-- 面包头部 -->\r\n      <div slot=\"header\" class=\"clearfix\">\r\n        <span>账号添加</span>\r\n      </div>\r\n      <!-- 表单 -->\r\n      <div>\r\n        <el-form\r\n          style=\"width: 315px;\"\r\n          size=\"small\"\r\n          status-icon\r\n          ref=\"accountAddForm\"\r\n          label-width=\"100px\"\r\n          :model=\"accountAddForm\"\r\n          :rules=\"rules\"\r\n        >\r\n          <!-- 账号 -->\r\n          <el-form-item label=\"账号\" prop=\"account\">\r\n            <el-input\r\n              v-model=\"accountAddForm.account\"\r\n              autocomplete=\"off\"\r\n            ></el-input>\r\n          </el-form-item>\r\n\r\n          <!-- 密码 -->\r\n          <el-form-item label=\"密码\" prop=\"password\">\r\n            <el-input\r\n              v-model=\"accountAddForm.password\"\r\n              type=\"password\"\r\n              autocomplete=\"off\"\r\n            ></el-input>\r\n          </el-form-item>\r\n\r\n          <!-- 用户组 -->\r\n          <el-form-item label=\"用户组\" prop=\"userGroup\">\r\n            <el-select\r\n              v-model=\"accountAddForm.userGroup\"\r\n              placeholder=\"请选择用户分组\"\r\n            >\r\n              <el-option label=\"超级管理员\" value=\"超级管理员\"></el-option>\r\n              <el-option label=\"普通管理员\" value=\"普通管理员\"></el-option>\r\n            </el-select>\r\n          </el-form-item>\r\n\r\n          <!-- 提交按钮 -->\r\n          <el-form-item>\r\n            <el-button type=\"primary\" @click=\"submitForm\">提交</el-button>\r\n            <el-button @click=\"resetForm\">重置</el-button>\r\n          </el-form-item>\r\n        </el-form>\r\n      </div>\r\n    </el-card>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\n// 引入工具函数\r\nimport { pwdReg } from \"@/utils/reg\";\r\n\r\n// 引入接口请求方法\r\nimport { addAccount } from \"@/api/account\";\r\n\r\nexport default {\r\n  data() {\r\n    // 自定义验证密码\r\n    const validatePwd = (rule, value, callback) => {\r\n      if (value === \"\") {\r\n        callback(new Error(\"密码不能为空\")); // 错误情况\r\n      } else if (!rule.pattern.test(value)) {\r\n        callback(new Error(\"密码由数字和字母组成，长度6-12位\")); // 错误情况\r\n      } else {\r\n        callback(); // 成功\r\n      }\r\n    };\r\n\r\n    return {\r\n      // 添加账号表单\r\n      accountAddForm: {\r\n        account: \"\",\r\n        password: \"\",\r\n        userGroup: \"\",\r\n      },\r\n      // 验证规则\r\n      rules: {\r\n        account: [\r\n          { required: true, message: \"账号不能为空\", trigger: \"blur\" },\r\n          { min: 5, max: 12, message: \"账号长度在 5 ~ 12 位\", trigger: \"blur\" },\r\n        ],\r\n        // 密码自定义验证\r\n        password: [\r\n          {\r\n            required: true,\r\n            pattern: pwdReg(),\r\n            validator: validatePwd,\r\n            trigger: \"blur\",\r\n          },\r\n        ],\r\n        userGroup: [\r\n          { required: true, message: \"请选择用户组\", trigger: \"change\" },\r\n        ],\r\n      },\r\n    };\r\n  },\r\n  methods: {\r\n    // 提交表单\r\n    submitForm() {\r\n      // 获取整个表单 调用内置方法验证所有表单\r\n      this.$refs.accountAddForm.validate(async (valid) => {\r\n        if (valid) {\r\n          // 发送添加账号的请求\r\n\r\n          let { code, msg } = await addAccount(this.accountAddForm);\r\n\r\n          // 成功\r\n          if (code === 0) {\r\n            // 路由跳转\r\n            this.$router.push(\"/home/accountlist\");\r\n          } else {\r\n            // 失败提示\r\n            this.$message.error(msg);\r\n          }\r\n        } else {\r\n          return false;\r\n        }\r\n      });\r\n    },\r\n    // 重置表单\r\n    resetForm() {\r\n      // 获取整个表单 调用重置方法\r\n      this.$refs.accountAddForm.resetFields();\r\n    },\r\n  },\r\n};\r\n</script>\r\n\r\n<style lang=\"less\" scoped></style>\r\n"],"sourceRoot":"src/views/AccountManage"}]}
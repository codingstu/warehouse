{"remainingRequest":"D:\\Study\\vue\\bishe\\warehouse-management-system\\management-system\\node_modules\\babel-loader\\lib\\index.js!D:\\Study\\vue\\bishe\\warehouse-management-system\\management-system\\src\\utils\\request.js","dependencies":[{"path":"D:\\Study\\vue\\bishe\\warehouse-management-system\\management-system\\src\\utils\\request.js","mtime":1646716328323},{"path":"D:\\Study\\vue\\bishe\\warehouse-management-system\\management-system\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1624891997656},{"path":"D:\\Study\\vue\\bishe\\warehouse-management-system\\management-system\\node_modules\\babel-loader\\lib\\index.js","mtime":1633574065756}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LnRvLXN0cmluZyI7CgovKg0KIOivt+axguWwgeijhSANCiBieSDpob7pg5Hlh68NCiAqLwovLyDlvJXlhaXlupMKaW1wb3J0IGF4aW9zIGZyb20gJ2F4aW9zJzsKaW1wb3J0IHFzIGZyb20gJ3FzJzsgLy8g5byV5YWl5pys5Zyw5a2Y5YKo5bel5YW35Ye95pWwCgppbXBvcnQgbG9jYWwgZnJvbSAiQC91dGlscy9zZXNzaW9uIjsgLy8g5oyJ6ZyA5byV5YWl57uE5Lu2CgppbXBvcnQgeyBNZXNzYWdlLCBNZXNzYWdlQm94IH0gZnJvbSAnZWxlbWVudC11aSc7IC8vIOiuvue9rum7mOiupOivt+axgueahOaOpeWPo+WcsOWdgAoKYXhpb3MuZGVmYXVsdHMuYmFzZVVSTCA9ICdodHRwOi8vMTI3LjAuMC4xOjUwMDAnOyAvLyDor7fmsYLmi6bmiKrlmagKCmF4aW9zLmludGVyY2VwdG9ycy5yZXF1ZXN0LnVzZShmdW5jdGlvbiAoY29uZmlnKSB7CiAgLy8gY29uZmln5piv6K+35rGC55qE6YWN572u5a+56LGh77yM5aaC5p6c55u05o6l6L+U5ZueIOWwseetieS6juS7gOS5iOmDveS4jeW4pgogIC8vIOaJgOacieeahGF4aW9z6K+35rGC77yM5Zyo6K+35rGC5Y+R6YCB5Ye65Y675LmL5YmN5bim5LiKdG9rZW4KICB2YXIgdG9rZW4gPSBsb2NhbC5nZXQoJ3Rva2VuJyk7CiAgY29uZmlnLmhlYWRlcnMuQXV0aG9yaXphdGlvbiA9ICdCZWFyZXIgJyArIHRva2VuOwogIHJldHVybiBjb25maWc7Cn0sIGZ1bmN0aW9uIChlcnJvcikgewogIHJldHVybiBQcm9taXNlLnJlamVjdChlcnJvcik7IC8vIOivt+axgumUmeivr+WkhOeQhgp9KTsgLy8g5ZON5bqU5oum5oiq5ZmoCgpheGlvcy5pbnRlcmNlcHRvcnMucmVzcG9uc2UudXNlKGZ1bmN0aW9uIChyZXNwb25zZSkgewogIC8vIHJlc3BvbnNl5bCx5piv5ZCO56uv5ZON5bqU5Zue5p2l55qE5Lic6KW/IOWmguaenOS9oOaDs+WBmuS7gOS5iOe7n+S4gOeahOWkhOeQhiDlj6/ku6XlnKjov5nph4zlhpkKICB2YXIgX3Jlc3BvbnNlJGRhdGEgPSByZXNwb25zZS5kYXRhLAogICAgICBjb2RlID0gX3Jlc3BvbnNlJGRhdGEuY29kZSwKICAgICAgbXNnID0gX3Jlc3BvbnNlJGRhdGEubXNnOyAvLyDmiJDlip8KCiAgaWYgKGNvZGUgPT09IDApIHsKICAgIE1lc3NhZ2UoewogICAgICB0eXBlOiAnc3VjY2VzcycsCiAgICAgIG1lc3NhZ2U6IG1zZwogICAgfSk7CiAgfSBlbHNlIGlmIChjb2RlID09PSAxKSB7CiAgICAvLyDlpLHotKUKICAgIE1lc3NhZ2UuZXJyb3IobXNnKTsKICB9CgogIHJldHVybiByZXNwb25zZTsKfSwgZnVuY3Rpb24gKGVycm9yKSB7CiAgTWVzc2FnZUJveC5hbGVydCgn5bCd6K+V6YeN5paw55m75b2VJywgJ+e9kee7nOmUmeivrycsIHsKICAgIGNvbmZpcm1CdXR0b25UZXh0OiAn56Gu5a6aJywKICAgIGNhbGxiYWNrOiBmdW5jdGlvbiBjYWxsYmFjaygpIHsKICAgICAgd2luZG93LmxvY2F0aW9uLmhyZWYgPSAnL2xvZ2luJzsKICAgIH0KICB9KTsKICByZXR1cm4gUHJvbWlzZS5yZWplY3QoZXJyb3IpOyAvLyDlk43lupTplJnor6/lpITnkIYKfSk7IC8vIOWvvOWHuuS4pOS4quaWueazlQoKZXhwb3J0IGRlZmF1bHQgewogIGdldDogZnVuY3Rpb24gZ2V0KHVybCkgewogICAgdmFyIHBhcmFtcyA9IGFyZ3VtZW50cy5sZW5ndGggPiAxICYmIGFyZ3VtZW50c1sxXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzFdIDoge307CiAgICByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkgewogICAgICBheGlvcy5nZXQodXJsLCB7CiAgICAgICAgcGFyYW1zOiBwYXJhbXMKICAgICAgfSkudGhlbihmdW5jdGlvbiAocmVzKSB7CiAgICAgICAgcmVzb2x2ZShyZXMuZGF0YSk7CiAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChlcnIpIHsKICAgICAgICByZWplY3QoZXJyKTsKICAgICAgfSk7CiAgICB9KTsKICB9LAogIHBvc3Q6IGZ1bmN0aW9uIHBvc3QodXJsKSB7CiAgICB2YXIgcGFyYW1zID0gYXJndW1lbnRzLmxlbmd0aCA+IDEgJiYgYXJndW1lbnRzWzFdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMV0gOiB7fTsKICAgIHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7CiAgICAgIGF4aW9zLnBvc3QodXJsLCBxcy5zdHJpbmdpZnkocGFyYW1zKSkudGhlbihmdW5jdGlvbiAocmVzKSB7CiAgICAgICAgcmVzb2x2ZShyZXMuZGF0YSk7CiAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChlcnIpIHsKICAgICAgICByZWplY3QoZXJyKTsKICAgICAgfSk7CiAgICB9KTsKICB9Cn07"},{"version":3,"sources":["D:/Study/vue/bishe/warehouse-management-system/management-system/src/utils/request.js"],"names":["axios","qs","local","Message","MessageBox","defaults","baseURL","interceptors","request","use","config","token","get","headers","Authorization","error","Promise","reject","response","data","code","msg","type","message","alert","confirmButtonText","callback","window","location","href","url","params","resolve","then","res","catch","err","post","stringify"],"mappings":";;AAAA;;;;AAIA;AACA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,EAAP,MAAe,IAAf,C,CACA;;AACA,OAAOC,KAAP,MAAkB,iBAAlB,C,CAGA;;AACA,SAASC,OAAT,EAAkBC,UAAlB,QAAoC,YAApC,C,CACA;;AACAJ,KAAK,CAACK,QAAN,CAAeC,OAAf,GAAyB,uBAAzB,C,CAEA;;AACAN,KAAK,CAACO,YAAN,CAAmBC,OAAnB,CAA2BC,GAA3B,CAA+B,UAAAC,MAAM,EAAI;AACrC;AAEA;AACA,MAAIC,KAAK,GAAGT,KAAK,CAACU,GAAN,CAAU,OAAV,CAAZ;AACAF,EAAAA,MAAM,CAACG,OAAP,CAAeC,aAAf,GAA+B,YAAYH,KAA3C;AAEA,SAAOD,MAAP;AACH,CARD,EAQG,UAAAK,KAAK,EAAI;AACR,SAAOC,OAAO,CAACC,MAAR,CAAeF,KAAf,CAAP,CADQ,CACsB;AACjC,CAVD,E,CAYA;;AACAf,KAAK,CAACO,YAAN,CAAmBW,QAAnB,CAA4BT,GAA5B,CAAgC,UAAAS,QAAQ,EAAI;AACxC;AADwC,uBAEpBA,QAAQ,CAACC,IAFW;AAAA,MAElCC,IAFkC,kBAElCA,IAFkC;AAAA,MAE5BC,GAF4B,kBAE5BA,GAF4B,EAGxC;;AACA,MAAID,IAAI,KAAK,CAAb,EAAgB;AACZjB,IAAAA,OAAO,CAAC;AACJmB,MAAAA,IAAI,EAAE,SADF;AAEJC,MAAAA,OAAO,EAAEF;AAFL,KAAD,CAAP;AAIH,GALD,MAKO,IAAID,IAAI,KAAK,CAAb,EAAgB;AACnB;AACAjB,IAAAA,OAAO,CAACY,KAAR,CAAcM,GAAd;AACH;;AACD,SAAOH,QAAP;AAEH,CAfD,EAeG,UAAAH,KAAK,EAAI;AAERX,EAAAA,UAAU,CAACoB,KAAX,CAAiB,QAAjB,EAA2B,MAA3B,EAAmC;AAC/BC,IAAAA,iBAAiB,EAAE,IADY;AAE/BC,IAAAA,QAAQ,EAAE,oBAAM;AAEZC,MAAAA,MAAM,CAACC,QAAP,CAAgBC,IAAhB,GAAuB,QAAvB;AACH;AAL8B,GAAnC;AAQA,SAAOb,OAAO,CAACC,MAAR,CAAeF,KAAf,CAAP,CAVQ,CAUsB;AACjC,CA1BD,E,CA6BA;;AACA,eAAe;AACXH,EAAAA,GADW,eACPkB,GADO,EACW;AAAA,QAAbC,MAAa,uEAAJ,EAAI;AAClB,WAAO,IAAIf,OAAJ,CAAY,UAACgB,OAAD,EAAUf,MAAV,EAAqB;AACpCjB,MAAAA,KAAK,CAACY,GAAN,CAAUkB,GAAV,EAAe;AAAEC,QAAAA,MAAM,EAANA;AAAF,OAAf,EACKE,IADL,CACU,UAAAC,GAAG,EAAI;AACTF,QAAAA,OAAO,CAACE,GAAG,CAACf,IAAL,CAAP;AACH,OAHL,EAIKgB,KAJL,CAIW,UAAAC,GAAG,EAAI;AACVnB,QAAAA,MAAM,CAACmB,GAAD,CAAN;AACH,OANL;AAOH,KARM,CAAP;AASH,GAXU;AAYXC,EAAAA,IAZW,gBAYNP,GAZM,EAYY;AAAA,QAAbC,MAAa,uEAAJ,EAAI;AACnB,WAAO,IAAIf,OAAJ,CAAY,UAACgB,OAAD,EAAUf,MAAV,EAAqB;AACpCjB,MAAAA,KAAK,CAACqC,IAAN,CAAWP,GAAX,EAAgB7B,EAAE,CAACqC,SAAH,CAAaP,MAAb,CAAhB,EACKE,IADL,CACU,UAAAC,GAAG,EAAI;AACTF,QAAAA,OAAO,CAACE,GAAG,CAACf,IAAL,CAAP;AAGH,OALL,EAMKgB,KANL,CAMW,UAAAC,GAAG,EAAI;AACVnB,QAAAA,MAAM,CAACmB,GAAD,CAAN;AAGH,OAVL;AAWH,KAZM,CAAP;AAaH;AA1BU,CAAf","sourcesContent":["/*\r\n 请求封装 \r\n by 顾郑凯\r\n */\r\n// 引入库\r\nimport axios from 'axios'\r\nimport qs from 'qs'\r\n// 引入本地存储工具函数\r\nimport local from \"@/utils/session\";\r\n\r\n\r\n// 按需引入组件\r\nimport { Message, MessageBox } from 'element-ui'\r\n// 设置默认请求的接口地址\r\naxios.defaults.baseURL = 'http://127.0.0.1:5000'\r\n\r\n// 请求拦截器\r\naxios.interceptors.request.use(config => {\r\n    // config是请求的配置对象，如果直接返回 就等于什么都不带\r\n\r\n    // 所有的axios请求，在请求发送出去之前带上token\r\n    let token = local.get('token')\r\n    config.headers.Authorization = 'Bearer ' + token\r\n\r\n    return config;\r\n}, error => {\r\n    return Promise.reject(error); // 请求错误处理\r\n})\r\n\r\n// 响应拦截器\r\naxios.interceptors.response.use(response => {\r\n    // response就是后端响应回来的东西 如果你想做什么统一的处理 可以在这里写\r\n    let { code, msg } = response.data;\r\n    // 成功\r\n    if (code === 0) {\r\n        Message({\r\n            type: 'success',\r\n            message: msg\r\n        })\r\n    } else if (code === 1) {\r\n        // 失败\r\n        Message.error(msg)\r\n    }\r\n    return response;\r\n\r\n}, error => {\r\n\r\n    MessageBox.alert('尝试重新登录', '网络错误', {\r\n        confirmButtonText: '确定',\r\n        callback: () => {\r\n\r\n            window.location.href = '/login'\r\n        }\r\n    })\r\n\r\n    return Promise.reject(error); // 响应错误处理\r\n});\r\n\r\n\r\n// 导出两个方法\r\nexport default {\r\n    get(url, params = {}) {\r\n        return new Promise((resolve, reject) => {\r\n            axios.get(url, { params })\r\n                .then(res => {\r\n                    resolve(res.data)\r\n                })\r\n                .catch(err => {\r\n                    reject(err)\r\n                })\r\n        })\r\n    },\r\n    post(url, params = {}) {\r\n        return new Promise((resolve, reject) => {\r\n            axios.post(url, qs.stringify(params))\r\n                .then(res => {\r\n                    resolve(res.data)\r\n\r\n\r\n                })\r\n                .catch(err => {\r\n                    reject(err)\r\n\r\n\r\n                })\r\n        })\r\n    }\r\n}\r\n"]}]}